{{ define "login" }}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Login</title>
    <link rel="icon" href:="/htm/ssh.svg" type="image/x-icon">
    <link rel="stylesheet" href="/styles.css" type="text/css">
    <script src="/wasm_exec.js"></script>
    <script>
        const go = new Go();
        let mod, inst;
        WebAssembly.instantiateStreaming(fetch("main.wasm"), go.importObject).then((result) => {
            mod = result.module;
            inst = result.instance;
            go.run(inst);
        });
        function validateEmail() {
            var email = document.getElementById("username").value;
            var output = document.getElementById("output");
            if (email.length == 0) {
                alert("Email cannot be empty");
                return;
            }
            if (email.indexOf("@") == -1) {
                alert("Email must contain @");
                return;
            }
        }
    </script>
</head>

<body class="theme-dark">
    <div class="center">
        <h1>Login using SSH Key</h1>
        <p>Choose private ssh key for signing (key does not leave browser)</p>
        <input type="file" id="file" oninput="fileSelect()" />
        <p><label for="username">Username</label>
            <input type="text" id="username" name="username" placeholder="username" required />
        </p>
        <p><label for="passphrase">Passphrase (if required)</label>
        <p><input type="password" id="passphrase" name="passphrase" /></p>
        <p><button type="button" id="button" onclick="validate()">Login</button></p>
    </div>
</body>

</html>
{{end}}